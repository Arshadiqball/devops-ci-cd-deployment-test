arshadiqbal.d@gmail.com
Arshad888###

docker login -u arshadiqbal
dckr_pat_C8TvnOGJLwfA2nWLADTIaGEvrr4

docker-compose up --build

docker tag deployment-test-php:latest ghcr.io/arshadiqbal/deployment-test:latest
docker push ghcr.io/arshadiqbal/deployment-test:latest


docker pull ghcr.io/arshadiqball/deployment-test:latest
docker run -d -p 8080:80 ghcr.io/arshadiqball/deployment-test:latest



Create Dockerfles or the PHP applicaton and MySQL database:
    • Use Docker Compose to defne a development environment with both services.
    • Set up a CI/CD pipeline using a CI/CD tool o your choice (e.g., Jenkins, GitLab CI,
    GitHub Acons).
    • The pipeline should trigger on each push to the main branch and include the
    following stages:
    • Linng and testing of PHP code.
    • Building Docker images for the PHP applicaton and MySQL.
    • Pushing Docker images to a container registry.
    • Deploying the applicaton to a staging environment.
        Answer: I dont have any ssh live environment... so i cant push there via github action.
        For that purpose, i just pushed the stuff locally at staging environment via getting from docker pull command.
    • Infrastructure as Code (IaC):
        Answer:
            I am using the ansible


    export GHCR_PAT=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
  
    
    export GHCR_PAT=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
    export GITHUB_ACTOR=Arshadiqball

    ghcr_pat: "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"
github_actor: "Arshadiqball"


Stop ansible and rerun:
    docker stop $(docker ps -a -q)  # Stops all running containers
docker rm $(docker ps -a -q)    # Removes all stopped containers


docker rmi $(docker images -q)

ansible-playbook deploy-docker.yml --ask-become-pass

export ghcr_pat="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"
export github_actor="Arshadiqball"